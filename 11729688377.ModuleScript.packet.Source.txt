-- Decompiler will be improved VERY SOON!
-- Decompiled with Konstant V2.1, a fast Luau decompiler made in Luau by plusgiant5 (https://discord.gg/brNTY8nX8t)
-- Decompiled on 2025-12-26 11:01:36
-- Luau version 6, Types version 3
-- Time taken: 0.007552 seconds

local server_upvr = script.Parent.Parent.process.server
if game:GetService("RunService"):IsServer() then
	server_upvr = "server"
else
	server_upvr = "client"
end
local var1_2_upvr = require(server_upvr)
local client_upvr = require(script.Parent.Parent.process.client)
local Players_upvr = game:GetService("Players")
return function(arg1, arg2) -- Line 16
	--[[ Upvalues[4]:
		[1]: var1_2_upvr (readonly)
		[2]: client_upvr (readonly)
		[3]: server_upvr (readonly)
		[4]: Players_upvr (readonly)
	]]
	-- KONSTANTWARNING: Variable analysis failed. Output will have some incorrect variable assignments
	local var6 = arg1.reliabilityType or "reliable"
	local var7_upvw
	local var8_upvr
	if var6 == "reliable" then
		local _ = var1_2_upvr.sendPlayerReliable
	else
	end
	if var6 == "reliable" then
		var8_upvr = var1_2_upvr
	else
		var8_upvr = var1_2_upvr
	end
	if var6 == "reliable" then
		var8_upvr = client_upvr.sendReliable
	else
		var8_upvr = client_upvr.sendUnreliable
	end
	local write_upvr = arg1.value.write
	local module = {}
	setmetatable(module, {
		__index = function(arg1_2) -- Line 43, Named "__index"
			--[[ Upvalues[1]:
				[1]: server_upvr (copied, readonly)
			]]
			if arg1_2 == "sendTo" or arg1_2 == "sendToAllExcept" or arg1_2 == "sendToAll" then
				if server_upvr == "client" then
					error("You cannot use sendTo, sendToAllExcept, or sendToAll on the client")
					return
				end
			end
			if arg1_2 == "send" and server_upvr == "server" then
				error("You cannot use send on the server")
			end
		end;
	})
	module.reader = arg1.value.read
	if server_upvr == "server" then
		local sendPlayerUnreliable_upvr = var1_2_upvr.sendPlayerUnreliable
		function module.sendToList(arg1_3, arg2_2) -- Line 59
			--[[ Upvalues[3]:
				[1]: sendPlayerUnreliable_upvr (readonly)
				[2]: arg2 (readonly)
				[3]: write_upvr (readonly)
			]]
			for _, v in arg2_2 do
				sendPlayerUnreliable_upvr(v, arg2, write_upvr, arg1_3)
			end
		end
		function module.sendTo(arg1_4, arg2_3) -- Line 65
			--[[ Upvalues[3]:
				[1]: sendPlayerUnreliable_upvr (readonly)
				[2]: arg2 (readonly)
				[3]: write_upvr (readonly)
			]]
			sendPlayerUnreliable_upvr(arg2_3, arg2, write_upvr, arg1_4)
		end
		function module.sendToAllExcept(arg1_5, arg2_4) -- Line 69
			--[[ Upvalues[4]:
				[1]: Players_upvr (copied, readonly)
				[2]: sendPlayerUnreliable_upvr (readonly)
				[3]: arg2 (readonly)
				[4]: write_upvr (readonly)
			]]
			for _, v_2 in Players_upvr:GetPlayers() do
				if v_2 ~= arg2_4 then
					sendPlayerUnreliable_upvr(v_2, arg2, write_upvr, arg1_5)
				end
			end
		end
		function module.sendToInRadius(arg1_6, arg2_5, arg3) -- Line 77
			--[[ Upvalues[4]:
				[1]: Players_upvr (copied, readonly)
				[2]: sendPlayerUnreliable_upvr (readonly)
				[3]: arg2 (readonly)
				[4]: write_upvr (readonly)
			]]
			for _, v_3 in Players_upvr:GetPlayers() do
				if arg3 >= v_3:DistanceFromCharacter(arg2_5) then
					sendPlayerUnreliable_upvr(v_3, arg2, write_upvr, arg1_6)
				end
			end
		end
		local sendAllUnreliable_upvr = var8_upvr.sendAllUnreliable
		function module.sendToAll(arg1_7) -- Line 86
			--[[ Upvalues[3]:
				[1]: sendAllUnreliable_upvr (readonly)
				[2]: arg2 (readonly)
				[3]: write_upvr (readonly)
			]]
			sendAllUnreliable_upvr(arg2, write_upvr, arg1_7)
		end
	elseif server_upvr == "client" then
		function module.send(arg1_8) -- Line 90
			--[[ Upvalues[3]:
				[1]: var8_upvr (readonly)
				[2]: arg2 (readonly)
				[3]: write_upvr (readonly)
			]]
			var8_upvr(arg2, write_upvr, arg1_8)
		end
	end
	function module.listen(arg1_9) -- Line 95
		--[[ Upvalues[1]:
			[1]: var7_upvw (read and write)
		]]
		var7_upvw = arg1_9
	end
	function module.getListener() -- Line 99
		--[[ Upvalues[1]:
			[1]: var7_upvw (read and write)
		]]
		return var7_upvw
	end
	return module
end